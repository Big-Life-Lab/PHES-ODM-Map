wwMeasure <- read.csv("wwMeasure.csv")
summary(wwMeasure)
wwMeasure$sampleID <- as.factor(wwMeasure)
wwMeasure$sampleID <- as.factor(wwMeasure)
wwMeasure$sampleID
as.factor(wwMeasure)
factor(wwMeasure)
wwMeasure$sampleID <- factor(wwMeasure$sampleID)
wwMeasure <- read.csv("wwMeasure.csv")
wwMeasure$sampleID <- factor(wwMeasure$sampleID)
wwMeasure$labID <- factor(wwMeasure$labID)
wwMeasure$analysisDate <- as.Date(wwMeasure$analysisDate)
wwMeasure$fractionAnalyzed <- factor(wwMeasure$fractionAnalyzed)
wwMeasure$type <- factor(wwMeasure$type)
wwMeasure$unit <- factor(wwMeasure$unit)
wwMeasure$aggregation <- factor(wwMeasure$aggregation)
wwMeasure$qualityFlag <- factor(wwMeasure$qualityFlag)
summary(wwMeasure)
measures <- data.frame()
wwVirus <- read.csv("wastewater_virus.csv")
summary(factor(wwVirus$InfA_copies_per_pep_copies_avg))
options(scipen = 999)
library(tidyr)
library(dplyr)
wwMeasure <- read.csv("wwMeasure.csv")
wwVirus <- read.csv("wastewater_virus.csv")
wwMeasure$sampleID <- factor(wwMeasure$sampleID)
wwMeasure$labID <- factor(wwMeasure$labID)
wwMeasure$analysisDate <- as.Date(wwMeasure$analysisDate)
wwMeasure$fractionAnalyzed <- factor(wwMeasure$fractionAnalyzed)
wwMeasure$type <- factor(wwMeasure$type)
wwMeasure$unit <- factor(wwMeasure$unit)
wwMeasure$aggregation <- factor(wwMeasure$aggregation)
wwMeasure$qualityFlag <- factor(wwMeasure$qualityFlag)
wwVirus$sampleDate <- as.Date(wwVirus$sampleDate)
wwVirus$sampleID <- factor(wwVirus$sampleID)
wwVirus$siteID <- factor(wwVirus$siteID)
wwVirus$siteName <- factor(wwVirus$siteName)
wwVirus$reportDate <- as.Date(wwVirus$reportDate)
summary(factor(wwVirus$InfA_copies_per_pep_copies_avg))
summary(as.numeric(wwVirus$InfA_copies_per_pep_copies_avg))
head(as.numeric(wwVirus$InfA_copies_per_pep_copies_avg))
as.numeric(wwVirus$InfA_copies_per_pep_copies_avg)
wwVirus$InfA_copies_per_pep_copies_avg
summary(factor(wwVirus$MPOX_copies_per_pep_copies_avg))
wwVirus$MPOX_copies_per_pep_copies_avg[wwVirus$MPOX_copies_per_pep_copies_avg == "Not tested"] <- 999
summary(factor(wwVirus$MPOX_copies_per_pep_copies_avg))
wwVirus$InfA_copies_per_pep_copies_avg[wwVirus$InfA_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$InfA_copies_per_pep_copies_avg <- as.numeric(wwVirus$InfA_copies_per_pep_copies_avg)
wwVirus$InfB_copies_per_pep_copies_avg[wwVirus$InfB_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$InfB_copies_per_pep_copies_avg <- as.numeric(wwVirus$InfB_copies_per_pep_copies_avg)
wwVirus$RSV_copies_per_pep_copies_avg[wwVirus$RSV_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$RSV_copies_per_pep_copies_avg <- as.numeric(wwVirus$RSV_copies_per_pep_copies_avg)
wwVirus$MPOX_copies_per_pep_copies_avg[wwVirus$MPOX_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$MPOX_copies_per_pep_copies_avg <- as.numeric(wwVirus$MPOX_copies_per_pep_copies_avg)
summary(factor(wwVirus$MPOX_copies_per_pep_copies_avg))
summary(wwMeasure$sampleID == wwVirus$sampleID)
wwData <- full_join(wwMeasure, wwVirus, "sampleID")
head(wwVirus)
head(wwMeasure)
head(wwData)
View(wwVirus)
View(wwMeasure)
View(wwData)
length(wwVirus[wwVirus$sampleID == NA])
wwVirus[wwVirus$sampleID == NA]
summary(wwVirus$sampleID)
summary(wwMeasure$sampleID)
summary(wwVirus[wwVirus$sampleID == NA])
summary(wwVirus[wwVirus$sampleID == "NA"])
summary(wwVirus[wwVirus$sampleID == "NA",])
wwVirus[wwVirus$sampleID == "NA",]
virusNA <- wwVirus[wwVirus$sampleID == "NA",]
View(virusNA)
wwMeasure[wwMeasure$sampleID == "NA",]
summary(wwMeasure[wwMeasure$sampleID == "NA",])
measureNA <- wwMeasure[wwMeasure$sampleID == "NA",]
View(measureNA)
View(wwData)
measureNA <- wwMeasure[wwMeasure$sampleID == "NA"]
summary(wwMeasure[wwMeasure$sampleID == "NA"])
summary(wwMeasure[wwMeasure$sampleID == "NA"],)
summary(wwMeasure[wwMeasure$sampleID == "NA",])
View(wwVirus)
View(wwMeasure)
wwMeasure[wwMeasure$sampleID == "NA",]
wwMeasure[wwMeasure$sampleID == NA,]
# set up environment
options(scipen = 999)
library(tidyr)
library(dplyr)
#### Original Data Treatment ####
# import the original data
wwMeasure <- read.csv("wwMeasure.csv")
wwVirus <- read.csv("wastewater_virus.csv")
# tranform data tpes to relevant formats
# make date and factor data types
wwMeasure$sampleID <- factor(wwMeasure$sampleID)
wwMeasure$labID <- factor(wwMeasure$labID)
wwMeasure$analysisDate <- as.Date(wwMeasure$analysisDate)
wwMeasure$fractionAnalyzed <- factor(wwMeasure$fractionAnalyzed)
wwMeasure$type <- factor(wwMeasure$type)
wwMeasure$unit <- factor(wwMeasure$unit)
wwMeasure$aggregation <- factor(wwMeasure$aggregation)
wwMeasure$qualityFlag <- factor(wwMeasure$qualityFlag)
wwVirus$sampleDate <- as.Date(wwVirus$sampleDate)
wwVirus$sampleID <- factor(wwVirus$sampleID)
wwVirus$siteID <- factor(wwVirus$siteID)
wwVirus$siteName <- factor(wwVirus$siteName)
wwVirus$reportDate <- as.Date(wwVirus$reportDate)
# fix numeric data for normalized secodary pathogens
wwVirus$InfA_copies_per_pep_copies_avg[wwVirus$InfA_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$InfA_copies_per_pep_copies_avg <- as.numeric(wwVirus$InfA_copies_per_pep_copies_avg)
wwVirus$InfB_copies_per_pep_copies_avg[wwVirus$InfB_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$InfB_copies_per_pep_copies_avg <- as.numeric(wwVirus$InfB_copies_per_pep_copies_avg)
wwVirus$RSV_copies_per_pep_copies_avg[wwVirus$RSV_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$RSV_copies_per_pep_copies_avg <- as.numeric(wwVirus$RSV_copies_per_pep_copies_avg)
wwVirus$MPOX_copies_per_pep_copies_avg[wwVirus$MPOX_copies_per_pep_copies_avg == "Not tested"] <- 999
wwVirus$MPOX_copies_per_pep_copies_avg <- as.numeric(wwVirus$MPOX_copies_per_pep_copies_avg)
# check structure
summary(wwMeasure)
summary(wwVirus)
wwMeasure[wwMeasure$sampleID == NA,]
missMeas <- wwMeasure[wwMeasure$sampleID == NA,]
summary(missMeas)
View(wwMeasure)
measMiss <- wwMeasure %>% filter(sampleID == NA)
View(measMiss)
measMiss <- wwMeasure %>% filter(sampleID = NA)
measMiss <- wwMeasure %>% filter(sampleID == 'NA')
measMiss <- wwMeasure %>% filter(sampleID == "NA")
View(measMiss)
wwMeasure %>% filter(sampleID == "NA")
wwMeasure %>% filter(sampleID == NA)
wwMeasure$sampleID
measMiss <- wwMeasure %>% filter(sampleID == "<NA>")
wwData <- full_join(wwMeasure, wwVirus, "sampleID")
measMiss <- wwMeasure %>% filter(sampleID == <NA>)
wwMeasure$sampleID[1]
measMiss <- wwMeasure %>% filter(sampleID == wwMeasure$sampleID[1])
wwMeasure[wwMeasure$sampleID == wwMeasure$sampleID[1],]
measMiss <- wwMeasure[wwMeasure$sampleID == wwMeasure$sampleID[1],]
# The following code is intended as a holdover measure to map existing and available open data (primarily
# from version 1 of the ODM) to version 2 in order to have more example data available
# a more permanent mapping solution is still under development and will likely use the linkML data transformer
# set up environment
options(scipen = 999)
library(tidyr)
library(dplyr)
#### Original Data Treatment ####
# import the original data
wwMeasure <- read.csv("wwMeasure.csv")
wwVirus <- read.csv("wastewater_virus.csv")
measMiss <- wwMeasure[wwMeasure$sampleID == wwMeasure$sampleID[1],]
measMiss <- wwMeasure %>% filter(sampleID == "NA")
filter(wwMeasure$sampleID == "NA")
filter(wwMeasure, wwMeasure$sampleID == "NA")
